function [desired_state] = diamond1(t, qn)
% DIAMOND trajectory generator for a diamond

% =================== Your code goes here ===================
% You have to set the pos, vel, acc, yaw and yawdot variables
T=8;
if t<= T/4
pos = [-0.0039*t^3+0.0469*t^2; -0.3536*t^3+1.0607*t^2; -0.3536*t^3+1.0607*t^2];
vel = [-0.0117*t^2+0.0938*t; -1.0608*t^2+2.1214*t; -1.0608*t^2+2.1214*t];
acc = [-0.0234*t+0.0938; -2.1216*t+2.1216; -2.118*t+2.1216];
end
if t> T/4 && t<=T/2
pos = [-0.0039*t^3+0.0469*t^2; -5.6569+8.4853*t-3.1820*t^2+0.3536*t^3; 8.4853-8.4853*t+3.182*t^2-0.3536*t^3];
vel = [-0.0117*t^2+0.0938*t; 8.4853-6.364*t+1.0608*t^2; -8.4853+6.364*t-1.0608*t^2];
acc = [-0.0234*t+0.0938; -6.364+2.1216*t; 6.364-2.1216*t];
end
if t> T/2 && t <=(3*T)/4
pos = [-0.0039*t^3+0.0469*t^2; -39.598+25.4558*t-5.3033*t^2+0.3536*t^3; -36.7696+25.4558*t-5.3033*t^2+0.3536*t^3];
vel = [-0.0117*t^2+0.0938*t; 25.4558-10.6066*t+1.0608*t^2; 25.4558-10.6066*t+1.0608*t^2];
acc = [-0.0234*t+0.0938; -10.6066+2.1216*t; -10.6066+2.1216*t];
end
if t > (3*T)/4 && t<=T
pos = [-0.0039*t^3+0.0469*t^2; 113.1371-50.9117*t+7.4246*t^2-0.3536*t^3; -113.1371+50.9117*t-7.4246*t^2+0.3536*t^3];
vel = [-0.0117*t^2+0.0938*t; -50.9117+14.8492*t-1.0608*t^2;50.9117-14.8492*t+1.0608*t^2];
acc = [-0.0234*t+0.0938; 14.8492-2.1618*t; 14.8492+2.1618*t];
end


if t>T
  pos = [1; 0; 0];
vel = [0; 0;0];
acc = [0; 0; 0];
end
    
    yaw = 0;
yawdot = 0;

% =================== Your code ends here ===================

desired_state.pos = pos(:);
desired_state.vel = vel(:);
desired_state.acc = acc(:);
desired_state.yaw = yaw;
desired_state.yawdot = yawdot;

end
